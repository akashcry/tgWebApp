<!DOCTYPE html>
<html>
<head>
    <title>Telegram Web App</title>
</head>
<body>
    <h1>Telegram Web App</h1>
    <button id="getDataBtn">Get tgWebAppData</button>
    <div id="result"></div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // Initialize Telegram Web App
        Telegram.WebApp.init();

        // Add click event listener to the button
        document.getElementById('getDataBtn').addEventListener('click', function() {
            // Get the Telegram Web App data
            const initParams = Telegram.WebApp.initDataUnsafe;
            
            // Store the data in session storage
            sessionStorage.setItem('__telegram__initParams', JSON.stringify(initParams));

            // Display the data on the page
            document.getElementById('result').textContent = 'tgWebAppData: ' + JSON.stringify(initParams);
        });

        // Optionally display the stored data on page load
        window.onload = function() {
            const storedData = sessionStorage.getItem('__telegram__initParams');
            if (storedData) {
                document.getElementById('result').textContent = 'Stored tgWebAppData: ' + storedData;
            }
        };
    </script>
</body>
</html>
